<!DOCTYPE html>
<html lang="ar" dir="rtl" id="admin-html">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ููุญุฉ ุงูุชุญูู | ูุชุฌุฑ ุงูููุงุจุณ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="./admin.css" />
  </head>
  <body>
    <div id="admin-app">
      <!-- Login Screen -->
      <div id="login-screen" class="login-screen">
        <div class="login-card">
          <div class="login-header">
            <span class="login-icon">๐</span>
            <h1 data-i18n="loginTitle">ููุญุฉ ุชุญูู ุงููุชุฌุฑ</h1>
            <p data-i18n="loginSubtitle">ุชุณุฌูู ุงูุฏุฎูู ูุฅุฏุงุฑุฉ ูุชุฌุฑู</p>
          </div>
          <form id="login-form" class="login-form">
            <div class="form-group">
              <label for="admin-password" data-i18n="password">ูููุฉ ุงููุฑูุฑ</label>
              <input type="password" id="admin-password" data-i18n-placeholder="passwordPlaceholder" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ" required autocomplete="current-password" />
            </div>
            <button type="submit" class="btn btn-primary btn-large btn-full" data-i18n="loginBtn">ุฏุฎูู</button>
            <p class="login-hint" data-i18n="loginHint">ุงูุงูุชุฑุงุถู: admin123</p>
          </form>
        </div>
      </div>

      <!-- Dashboard -->
      <div id="dashboard" class="dashboard hidden">
        <header class="admin-header">
          <div class="admin-header-inner">
            <h1 class="admin-title" data-i18n="appTitle">ููุญุฉ ุงูุชุญูู</h1>
            <div class="admin-header-actions">
              <button type="button" id="lang-toggle" class="btn btn-ghost btn-small" title="ุงูุนุฑุจูุฉ / English">ุน EN</button>
              <a href="../index.html" target="_blank" class="btn btn-ghost btn-small" data-i18n="previewSite">ูุนุงููุฉ ุงููููุน</a>
              <button type="button" id="logout-btn" class="btn btn-ghost btn-small" data-i18n="logout">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
            </div>
          </div>
        </header>

        <aside class="sidebar">
          <div class="sidebar-brand">
            <span class="sidebar-logo">โ๏ธ</span>
            <span data-i18n="appTitle">ููุญุฉ ุงูุชุญูู</span>
          </div>
          <nav class="sidebar-nav">
            <button type="button" class="nav-item active" data-section="products">
              <span class="nav-icon">๐ฆ</span>
              <span data-i18n="navProducts">ุงูููุชุฌุงุช</span>
            </button>
            <button type="button" class="nav-item" data-section="inventory">
              <span class="nav-icon">๐</span>
              <span data-i18n="navInventory">ุงููุฎุฒูู</span>
            </button>
            <button type="button" class="nav-item" data-section="sizes">
              <span class="nav-icon">๐</span>
              <span data-i18n="navSizes">ุงูููุงุณุงุช</span>
            </button>
            <button type="button" class="nav-item" data-section="content">
              <span class="nav-icon">๐</span>
              <span data-i18n="navContent">ุงููุญุชูู</span>
            </button>
            <button type="button" class="nav-item" data-section="floating-contact">
              <span class="nav-icon">๐ฑ</span>
              <span data-i18n="navFloatingContact">ุฒุฑ ุงูุงุชุตุงู ุงูุนุงุฆู</span>
            </button>
            <button type="button" class="nav-item" data-section="design">
              <span class="nav-icon">๐จ</span>
              <span data-i18n="navDesign">ุงูุชุตููู</span>
            </button>
            <button type="button" class="nav-item" data-section="sync">
              <span class="nav-icon">โ๏ธ</span>
              <span data-i18n="navSync">ูุฒุงููุฉ GitHub</span>
            </button>
          </nav>
          <div class="sidebar-footer">
            <a href="../index.html" target="_blank" class="nav-item">
              <span class="nav-icon">๐</span>
              <span data-i18n="previewSite">ูุนุงููุฉ ุงููููุน</span>
            </a>
          </div>
        </aside>

        <main class="main-content">
          <!-- Products Section -->
          <section id="section-products" class="panel active">
            <div class="panel-header">
              <h2>ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช</h2>
              <button type="button" class="btn btn-primary btn-large" id="btn-add-product">+ ุฅุถุงูุฉ ููุชุฌ</button>
            </div>
            <div id="products-list" class="cards-grid"></div>
          </section>

          <!-- Inventory Section -->
          <section id="section-inventory" class="panel">
            <div class="panel-header">
              <h2>ุงููุฎุฒูู ูุงูุชูุจููุงุช</h2>
            </div>
            <div id="inventory-alerts" class="alerts-box"></div>
            <div id="inventory-table-wrap" class="table-wrap"></div>
          </section>

          <!-- Sizes Section -->
          <section id="section-sizes" class="panel">
            <div class="panel-header">
              <h2 data-i18n="sizesTitle">ุฅุฏุงุฑุฉ ุงูููุงุณุงุช</h2>
              <button type="button" class="btn btn-primary btn-large" id="btn-add-size" data-i18n="addSize">+ ุฅุถุงูุฉ ููุงุณ</button>
            </div>
            <p class="form-hint" data-i18n="sizesHint">ุงูููุงุณุงุช ุงููุนุฑููุฉ ููุง ุชุธูุฑ ูู ูููุฐุฌ ุงูููุชุฌ ููููู ุชุนููููุง ููู ููุชุฌ. ููููู ุฅุถุงูุฉ ุฃู ุญุฐู ุงูููุงุณุงุช ูู ุฃู ููุช.</p>
            <div id="sizes-list" class="cards-grid sizes-list"></div>
          </section>

          <!-- Floating Contact Section -->
          <section id="section-floating-contact" class="panel">
            <div class="panel-header">
              <h2 data-i18n="floatingContactTitle">ุฒุฑ ุงูุงุชุตุงู ุงูุนุงุฆู</h2>
              <button type="button" class="btn btn-primary btn-large" id="btn-save-floating-contact" data-i18n="save">ุญูุธ</button>
            </div>
            <div id="floating-contact-fields" class="form-grid"></div>
          </section>

          <!-- Content Section -->
          <section id="section-content" class="panel">
            <div class="panel-header">
              <h2>ุงููุญุชูู ูุงูุตูุญุงุช</h2>
              <button type="button" class="btn btn-primary btn-large" id="btn-save-content">ุญูุธ ุงูุชุบููุฑุงุช</button>
            </div>
            <div class="tabs">
              <button type="button" class="tab active" data-tab="content-home">ุงูุฑุฆูุณูุฉ</button>
              <button type="button" class="tab" data-tab="content-about">ูู ูุญู</button>
              <button type="button" class="tab" data-tab="content-contact">ุงุชุตู ุจูุง</button>
              <button type="button" class="tab" data-tab="content-banners">ุงูุจุงูุฑุงุช</button>
            </div>
            <div id="content-home" class="tab-panel active">
              <div id="content-home-fields" class="form-grid"></div>
            </div>
            <div id="content-about" class="tab-panel">
              <div id="content-about-fields" class="form-grid"></div>
            </div>
            <div id="content-contact" class="tab-panel">
              <div id="content-contact-fields" class="form-grid"></div>
            </div>
            <div id="content-banners" class="tab-panel">
              <div id="banners-list" class="banners-list"></div>
              <button type="button" class="btn btn-secondary" id="btn-add-banner">+ ุฅุถุงูุฉ ุจุงูุฑ</button>
            </div>
          </section>

          <!-- GitHub Sync Section -->
          <section id="section-sync" class="panel">
            <div class="panel-header">
              <h2 data-i18n="syncTitle">ูุฒุงููุฉ ูุน GitHub Pages</h2>
              <button type="button" class="btn btn-primary btn-large" id="btn-sync-now" data-i18n="syncNow">ูุฒุงููุฉ ุงูุขู</button>
            </div>
            <p class="form-hint sync-hint" data-i18n="syncHint">ุงุญูุธ ุงูุชุบููุฑุงุช ุนูู ุงูุฎุงุฏู ุญุชู ุชุธูุฑ ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ.</p>
            <div id="sync-fields" class="form-grid"></div>
          </section>

          <!-- Design Section -->
          <section id="section-design" class="panel">
            <div class="panel-header">
              <h2>ุงูุชุตููู ูุงูุฃููุงู</h2>
              <div class="panel-actions">
                <a href="../products.html" target="_blank" rel="noopener" class="btn btn-secondary btn-large">ูุนุงููุฉ ุงูููุชุฌุงุช</a>
                <button type="button" class="btn btn-primary btn-large" id="btn-save-design">ุญูุธ ุงูุชุตููู</button>
              </div>
            </div>
            <div id="design-fields" class="form-grid design-grid"></div>
            <div class="design-product-card">
              <h3>ุจุทุงูุฉ ุงูููุชุฌ (ุงูุฃููุงู ูุงูุฎุท ูุงูุดุจูุฉ)</h3>
              <div id="design-product-card-fields" class="form-grid design-grid"></div>
            </div>
            <div class="design-categories-order">
              <h3>ูุฆุงุช ุงูููุชุฌุงุช ูุชุฑุชูุจ ุงูุนุฑุถ</h3>
              <div class="design-two-cols">
                <div>
                  <label>ูุงุฆูุฉ ุงููุฆุงุช (ููุนุฑุถ ูุงูููุชุฑุฉ)</label>
                  <div id="design-categories-list"></div>
                  <input type="text" id="design-category-new" class="input-inline" placeholder="ูุฆุฉ ุฌุฏูุฏุฉ" maxlength="40" />
                  <button type="button" class="btn btn-secondary btn-small" id="btn-add-category">ุฅุถุงูุฉ ูุฆุฉ</button>
                </div>
                <div>
                  <label>ุชุฑุชูุจ ุงูููุชุฌุงุช ูู ุงูุตูุญุฉ (ุงุณุญุจ ููุชุนุฏูู)</label>
                  <p class="form-hint">ุงูููุชุฌุงุช ุงููุฐููุฑุฉ ููุง ุชุธูุฑ ุฃููุงูุ ุงูุจุงูู ูุชุจุนูุง.</p>
                  <ul id="design-product-order" class="product-order-list"></ul>
                </div>
              </div>
            </div>
            <div class="section-toggles">
              <h3>ุฅุธูุงุฑ/ุฅุฎูุงุก ุฃูุณุงู ุงููููุน</h3>
              <div id="section-toggles-list"></div>
            </div>
          </section>
        </main>
      </div>

      <!-- Product Edit Modal -->
      <div id="product-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content modal-large">
          <div class="modal-header">
            <h2 id="product-modal-title">ุฅุถุงูุฉ ููุชุฌ</h2>
            <button type="button" class="modal-close" aria-label="ุฅุบูุงู">ร</button>
          </div>
          <form id="product-form" class="modal-body">
            <input type="hidden" id="product-id" />
            <div class="form-row">
              <div class="form-group">
                <label for="product-name">ุงุณู ุงูููุชุฌ</label>
                <input type="text" id="product-name" required placeholder="ูุซุงู: ุชูุดูุฑุช ุฃุณูุฏ ููุงุณูู" />
              </div>
              <div class="form-group">
                <label>ุงููุฆุฉ</label>
                <select id="product-category">
                  <option value="">โ</option>
                </select>
              </div>
            </div>
            <div class="form-row form-row-prices">
              <div class="form-group">
                <label for="product-regular-price">ุงูุณุนุฑ ุงููุฏูู (ุฏุฑูู)</label>
                <input type="number" id="product-regular-price" min="0" step="1" placeholder="ุงูุณุนุฑ ูุจู ุงูุชุฎููุถ" />
              </div>
              <div class="form-group">
                <label for="product-discount-price">ุงูุณุนุฑ ุงูุฌุฏูุฏ (ุฏุฑูู)</label>
                <input type="number" id="product-discount-price" min="0" step="1" placeholder="ุงูุณุนุฑ ุจุนุฏ ุงูุชุฎููุถ (ุงุฎุชูุงุฑู)" />
              </div>
              <div class="form-group">
                <label for="product-discount-percent">ูุณุจุฉ ุงูุชุฎููุถ % (1โ100)</label>
                <input type="number" id="product-discount-percent" min="1" max="100" step="1" placeholder="ุชุญุณุจ ุชููุงุฆูุงู ุฃู ุนุฏูู ูุฏููุงู" title="ููุญุฏูุซ ุงูุณุนุฑ ุงูุฌุฏูุฏ ุนูุฏ ุงูุชุนุฏูู" />
              </div>
            </div>
            <div class="form-group">
              <label for="product-description">ุงููุตู</label>
              <textarea id="product-description" rows="4" placeholder="ูุตู ุงูููุชุฌ"></textarea>
            </div>
            <div class="form-group">
              <label>ุงูุตูุฑ (ุฑุงุจุท ุฃู ุฑูุน โ ุชุฑุชูุจ ุจุงูุณุญุจ)</label>
              <div id="product-images" class="images-upload"></div>
              <input type="file" id="product-image-input" accept="image/*" multiple class="hidden" />
              <div class="image-buttons">
                <button type="button" class="btn btn-secondary" id="btn-add-image-url">+ ุฅุถุงูุฉ ุฑุงุจุท ุตูุฑุฉ</button>
                <button type="button" class="btn btn-secondary" id="btn-upload-image">+ ุฑูุน ุตูุฑุฉ ูู ุงูุฌูุงุฒ</button>
              </div>
            </div>
            <div class="form-group">
              <label>ุงูุฃููุงู ุงููุชุงุญุฉ</label>
              <div id="product-colors" class="colors-list"></div>
              <button type="button" class="btn btn-secondary btn-small" id="btn-add-color">+ ููู</button>
            </div>
            <div class="form-group" id="product-sizes-wrap">
              <label>ุงูููุงุณุงุช ุงููุชุงุญุฉ ููุฐุง ุงูููุชุฌ</label>
              <p class="form-hint">ุงุฎุชุฑ ุงูููุงุณุงุช ุงูุชู ููุชูููุง ูุฐุง ุงูููุชุฌ. ุฅุฐุง ูู ุชุฎุชุฑ ุฃู ููุงุณุ ูู ูุธูุฑ ุฎูุงุฑ ุงูููุงุณ ููุนููู.</p>
              <div id="product-sizes" class="sizes-checkbox-list"></div>
            </div>
            <div class="form-group">
              <label id="product-inventory-label">ุงููููุงุช (ููู ููู)</label>
              <div id="product-inventory" class="inventory-grid"></div>
            </div>
            <div class="form-group form-group-inline">
              <label class="checkbox-label">
                <input type="checkbox" id="product-visible" checked />
                <span>ุฅุธูุงุฑ ุงูููุชุฌ ูู ุงููุชุฌุฑ</span>
              </label>
            </div>
            <div class="modal-actions">
              <button type="button" class="btn btn-ghost modal-cancel">ุฅูุบุงุก</button>
              <button type="submit" class="btn btn-primary btn-large">ุญูุธ ุงูููุชุฌ</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Size Add/Edit Modal -->
      <div id="size-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="size-modal-title" data-i18n="addSize">ุฅุถุงูุฉ ููุงุณ</h2>
            <button type="button" class="modal-close" aria-label="ุฅุบูุงู">ร</button>
          </div>
          <form id="size-form" class="modal-body">
            <input type="hidden" id="size-id" />
            <div class="form-group">
              <label for="size-name" data-i18n="sizeName">ุงุณู ุงูููุงุณ</label>
              <input type="text" id="size-name" required placeholder="ูุซุงู: S, M, L, XL, XXL" maxlength="20" />
              <p class="form-hint">ุณููุณุชุฎุฏู ููุนุฑูู ุชููุงุฆูุงู (ุญุฑูู ุตุบูุฑุฉุ ุจุฏูู ูุณุงูุงุช).</p>
            </div>
            <div class="modal-actions">
              <button type="button" class="btn btn-ghost modal-cancel" data-i18n="cancel">ุฅูุบุงุก</button>
              <button type="submit" class="btn btn-primary btn-large" data-i18n="save">ุญูุธ</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Toast -->
      <div id="toast" class="toast hidden"></div>
    </div>

    <script src="../assets/js/store.js"></script>
    <script src="./admin.js"></script>
  </body>
</html>
